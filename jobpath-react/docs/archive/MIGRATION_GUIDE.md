# üìö GU√çA DE MIGRACI√ìN HTML ‚Üí REACT

Esta gu√≠a explica paso a paso c√≥mo se migr√≥ el sitio web JobPath desde HTML/CSS/JS a React.

---

## üéØ Objetivos Cumplidos

‚úÖ **Migraci√≥n completa a componentes funcionales de React**
‚úÖ **CSS modular manteniendo el dise√±o original**
‚úÖ **Reemplazo de JavaScript vanilla por hooks de React**
‚úÖ **Estructura de proyecto limpia y escalable**
‚úÖ **React Router para navegaci√≥n SPA**
‚úÖ **Comentarios explicativos en cada archivo**

---

## üì¶ Dependencias Instaladas

```bash
npm install react-router-dom
```

---

## üîÑ Mapeo de Archivos

### Archivos HTML Originales ‚Üí Componentes React

| Archivo Original | Componente React | Descripci√≥n |
|-----------------|------------------|-------------|
| `index.html` | `Landing.jsx` | P√°gina de entrada |
| `home/home.html` | `Home.jsx` | P√°gina principal |
| `registro/login.html` | `Login.jsx` | Formulario login |
| `perfil/perfil.html` | `Perfil.jsx` | Perfil usuario |
| `jovenes/jovenes.html` | `Jovenes.jsx` | Secci√≥n j√≥venes |
| `companias/companias.html` | `Companias.jsx` | Secci√≥n compa√±√≠as |
| `About Us/about.html` | `About.jsx` | Acerca de |

### Archivos CSS ‚Üí M√≥dulos CSS

Cada componente tiene su propio CSS:
- `index.css` ‚Üí `Landing.css`
- `home.css` ‚Üí `Home.css`
- `login.css` ‚Üí `Login.css`
- `perfil.css` ‚Üí `Perfil.css`

### JavaScript ‚Üí React Hooks

| Script Original | Equivalente React |
|----------------|-------------------|
| `app.js` | `AuthContext.jsx` + hooks en componentes |
| `carrusel.js` | L√≥gica en componentes (useState) |
| `translate.js` | `LanguageContext.jsx` |

---

## üõ†Ô∏è Patrones de Migraci√≥n

### 1. Event Listeners ‚Üí Event Handlers

**Antes (JavaScript Vanilla):**
```javascript
document.getElementById('loginForm').addEventListener('submit', (event) => {
    event.preventDefault();
    const username = document.getElementById('username').value;
    // ...
});
```

**Ahora (React):**
```jsx
const [formData, setFormData] = useState({ name: '', lastname: '', email: '' });

const handleSubmit = (e) => {
    e.preventDefault();
    const { name, lastname, email } = formData;
    // ...
};

<form onSubmit={handleSubmit}>
    <input 
        name="name" 
        value={formData.name} 
        onChange={handleChange} 
    />
</form>
```

---

### 2. DOM Manipulation ‚Üí State Management

**Antes:**
```javascript
const userNameDisplay = document.getElementById('userNameDisplay');
userNameDisplay.textContent = userData.name;
```

**Ahora:**
```jsx
const { user } = useAuth();

return <h2>{user.name}</h2>;
```

---

### 3. Navegaci√≥n ‚Üí React Router

**Antes:**
```javascript
window.location.href = 'https://example.com/home/home.html';
```

**Ahora:**
```jsx
import { useNavigate } from 'react-router-dom';

const navigate = useNavigate();
navigate('/home');
```

---

### 4. Scroll Detection ‚Üí useEffect

**Antes:**
```javascript
window.addEventListener('scroll', () => {
    location.href = 'next-page.html';
});
```

**Ahora:**
```jsx
useEffect(() => {
    let done = false;
    const handleScroll = () => {
        if (!done) {
            done = true;
            navigate('/next');
        }
    };
    
    window.addEventListener('scroll', handleScroll);
    
    return () => window.removeEventListener('scroll', handleScroll);
}, [navigate]);
```

---

### 5. File Upload ‚Üí useRef + State

**Antes:**
```javascript
const fileInput = document.getElementById('fileInput');
fileInput.addEventListener('change', (e) => {
    const file = e.target.files[0];
    // ...
});
```

**Ahora:**
```jsx
const fileInputRef = useRef(null);
const [publications, setPublications] = useState([]);

const handleFileChange = (e) => {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = (event) => {
            setPublications(prev => [...prev, { image: event.target.result }]);
        };
        reader.readAsDataURL(file);
    }
};

<input 
    ref={fileInputRef} 
    type="file" 
    onChange={handleFileChange} 
    style={{ display: 'none' }} 
/>
```

---

### 6. LocalStorage ‚Üí Context API

**Antes:**
```javascript
localStorage.setItem('userName', name);
const userName = localStorage.getItem('userName');
```

**Ahora:**
```jsx
// AuthContext.jsx
const [user, setUser] = useState(() => {
    const savedUser = localStorage.getItem('userName');
    return savedUser ? { name: savedUser } : null;
});

const login = (userData) => {
    setUser(userData);
    localStorage.setItem('userName', userData.name);
};

// En componentes
const { user, login } = useAuth();
```

---

## üìÅ Estructura de Contextos

### AuthContext
```jsx
// Proveedor de autenticaci√≥n
<AuthProvider>
    <App />
</AuthProvider>

// Uso en componentes
const { user, login, logout, updateProfile } = useAuth();
```

### LanguageContext
```jsx
// Proveedor de idioma
<LanguageProvider>
    <App />
</LanguageProvider>

// Uso en componentes
const { language, changeLanguage } = useLanguage();
```

---

## üé® Estilos CSS

### Estrategia de Migraci√≥n

1. **Mantener estructura original:** Los estilos se copiaron manteniendo los selectores
2. **CSS por componente:** Cada componente tiene su propio archivo CSS
3. **Imports expl√≠citos:** `import './Component.css'`
4. **Clases preservadas:** Se mantuvieron los nombres de clase originales

### Ejemplo:

**Original (index.css):**
```css
.container {
    height: calc(100vh - 80px);
    /* ... */
}
```

**React (Landing.css):**
```css
.landing-page { /* Wrapper agregado */ }

.container {
    height: calc(100vh - 80px);
    /* ... mismo estilo */
}
```

---

## üß© Componentes Reutilizables

### Header Component

**Migrado desde:** M√∫ltiples headers HTML
**Ventaja:** Un solo componente con props

```jsx
<Header showFullNav={false} title="Anima" />
<Header showFullNav={true} title="Job Path" />
```

---

## üîê Protecci√≥n de Rutas

### Implementaci√≥n

```jsx
// En Perfil.jsx
useEffect(() => {
    if (!user) {
        navigate('/login');
    }
}, [user, navigate]);
```

**Mejora sugerida:** Crear un componente `ProtectedRoute`

---

## üöÄ Optimizaciones Realizadas

1. **Limpieza de Event Listeners**
   - Todos los `useEffect` retornan funciones de limpieza
   ```jsx
   return () => {
       window.removeEventListener('scroll', handleScroll);
   };
   ```

2. **Estado Centralizado**
   - Un solo contexto de autenticaci√≥n en lugar de m√∫ltiples accesos a localStorage

3. **Lazy Loading Preparado**
   - Estructura lista para implementar code splitting:
   ```jsx
   const Home = lazy(() => import('./pages/Home'));
   ```

4. **Componentes Puros**
   - Separaci√≥n de l√≥gica y presentaci√≥n

---

## üìä Comparaci√≥n de C√≥digo

### Login Form

**Antes (115 l√≠neas HTML + 45 l√≠neas JS):**
```html
<!-- HTML -->
<form id="loginForm">
    <input type="text" id="username">
    <input type="text" id="lastname">
    <input type="email" id="email">
    <button type="submit">Login</button>
</form>

<!-- JavaScript separado -->
<script>
document.getElementById("loginForm").addEventListener("submit", function (e) {
    e.preventDefault();
    const name = document.getElementById("username").value.trim();
    // ... validaciones ...
    localStorage.setItem("userName", name);
    window.location.href = "/JobPath/perfil/perfil.html";
});
</script>
```

**Ahora (80 l√≠neas React unificadas):**
```jsx
import { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../context/AuthContext';

const Login = () => {
    const [formData, setFormData] = useState({ name: '', lastname: '', email: '' });
    const { login } = useAuth();
    const navigate = useNavigate();
    
    const handleSubmit = (e) => {
        e.preventDefault();
        // validaciones
        login(formData);
        navigate('/perfil');
    };
    
    return (
        <form onSubmit={handleSubmit}>
            {/* JSX moderno */}
        </form>
    );
};
```

**Beneficios:**
- ‚úÖ C√≥digo m√°s limpio y mantenible
- ‚úÖ L√≥gica y presentaci√≥n unificadas
- ‚úÖ Type safety preparado para TypeScript
- ‚úÖ Reutilizaci√≥n de l√≥gica con hooks

---

## üîÑ Pr√≥ximos Pasos Sugeridos

### 1. Completar P√°ginas Pendientes
```jsx
// Jovenes.jsx - Completar con contenido de jovenes.html
// Companias.jsx - Completar con companias.html
// About.jsx - Completar con about.html
```

### 2. A√±adir TypeScript
```bash
npm install --save-dev @types/react @types/react-dom
# Renombrar .jsx ‚Üí .tsx
# A√±adir interfaces para props y estado
```

### 3. Implementar React Query
```bash
npm install @tanstack/react-query
# Para manejo de estado del servidor
```

### 4. A√±adir Testing
```bash
npm install --save-dev vitest @testing-library/react
# Crear tests para cada componente
```

### 5. Implementar i18n Completo
```bash
npm install react-i18next i18next
# Crear archivos de traducci√≥n
```

### 6. Optimizar Im√°genes
```bash
# Convertir a WebP
# Implementar lazy loading
<img loading="lazy" src="..." />
```

---

## üìù Checklist de Migraci√≥n

- [x] Crear estructura de carpetas
- [x] Instalar dependencias
- [x] Migrar HTML a JSX
- [x] Migrar CSS a m√≥dulos
- [x] Migrar JS a hooks
- [x] Crear contextos globales
- [x] Implementar React Router
- [x] Copiar assets (im√°genes)
- [x] Documentar cambios
- [ ] Testing
- [ ] Completar p√°ginas pendientes
- [ ] Optimizar performance
- [ ] Deploy

---

## üéì Lecciones Aprendidas

1. **React Router es esencial** para SPAs modernas
2. **Context API** es suficiente para estado simple
3. **useEffect cleanup** es cr√≠tico para prevenir memory leaks
4. **Componentes peque√±os** son m√°s f√°ciles de mantener
5. **CSS modular** previene conflictos de estilos

---

## üÜò Soluci√≥n de Problemas Comunes

### Error: "Cannot find module"
```bash
# Verificar imports relativos
import Header from '../components/Header'; // ‚úÖ
import Header from 'components/Header';    // ‚ùå
```

### Im√°genes no cargan
```jsx
// Usar rutas desde public/
<img src="/img/logo.png" />  // ‚úÖ
<img src="../img/logo.png" /> // ‚ùå
```

### Estilos no se aplican
```jsx
// Asegurarse de importar CSS
import './Component.css'; // ‚úÖ Al inicio del componente
```

### localStorage no persiste
```jsx
// Usar Context que maneja localStorage
const { login } = useAuth(); // ‚úÖ
localStorage.setItem('user'); // ‚ùå Hacerlo manualmente
```

---

## üìö Recursos Adicionales

- [React Docs](https://react.dev)
- [React Router Docs](https://reactrouter.com)
- [Vite Guide](https://vitejs.dev/guide/)
- [React Hooks](https://react.dev/reference/react)

---

**¬°Migraci√≥n completada con √©xito! üéâ**
